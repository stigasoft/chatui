(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAfCAMAAACxiD++AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUxpcf///////////////////////////////////////////////////////3EAnbYAAAAOdFJOUwADZ66SoQjEhnS7/gsNGQL7+wAAAKtJREFUKM+F01sOhCAQRNESFV/I/pc70Og0YJfyJbmHhBAbGGYHstw8IPV4EOGOmERYIhGpxyUAJxHSz/xlC+1FxE64qB1yj1ZID7oXsel+63ovnj2JXUXue+hvrcLugL+EdG+9XBG8X+Kl34J3YM1g/egvIvdx5EK691RIz78YEXdnQrst6m6JqemXmNo+D/WJNAyVePZWWL0WdlfB+l+UAQQReaAc65DB/wGsZgzLN0IQWAAAAABJRU5ErkJggg=="},16:function(e,t,n){e.exports=n(44)},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(10),c=n.n(r),i=n(15),o=n(1),l=n.n(o),u=n(7),p=n(2),h=n(3),m=n(5),d=n(4),f=n(6),g=n(11),v=n.n(g),b=n(12),w=n.n(b),C=function(e){return s.a.createElement("div",{className:"sc-message--text"},s.a.createElement("div",{className:"sc-message--author-wrapper"},s.a.createElement("div",{className:"sc-message--author"},"me"===e.author?"You":window._teamName),s.a.createElement(w.a,{fromNow:!0},e.created.toString())),s.a.createElement(v.a,{properties:{target:"_blank"}},e.data.text))},A=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"_handleClick",value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e)}},{key:"render",value:function(){return s.a.createElement("button",{onFocus:this.props.onFocus,onBlur:this.props.onBlur,onClick:this._handleClick.bind(this),className:"sc-user-input--file-icon-wrapper"},s.a.createElement("svg",{version:"1.1",className:"sc-user-input--file-icon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"60px",height:"60px",viewBox:"0 0 55 55",enableBackground:"new 0 0 60 60"},s.a.createElement("g",null,s.a.createElement("path",{d:"M43.922,6.653c-2.643-2.644-6.201-4.107-9.959-4.069c-3.774,0.019-7.32,1.497-9.983,4.161l-12.3,12.3l-8.523,8.521 c-4.143,4.144-4.217,10.812-0.167,14.862c1.996,1.996,4.626,2.989,7.277,2.989c2.73,0,5.482-1.055,7.583-3.156l15.547-15.545 c0.002-0.002,0.002-0.004,0.004-0.005l5.358-5.358c1.394-1.393,2.176-3.24,2.201-5.2c0.026-1.975-0.716-3.818-2.09-5.192 c-2.834-2.835-7.496-2.787-10.394,0.108L9.689,29.857c-0.563,0.563-0.563,1.474,0,2.036c0.281,0.28,0.649,0.421,1.018,0.421 c0.369,0,0.737-0.141,1.018-0.421l18.787-18.788c1.773-1.774,4.609-1.824,6.322-0.11c0.82,0.82,1.263,1.928,1.247,3.119 c-0.017,1.205-0.497,2.342-1.357,3.201l-5.55,5.551c-0.002,0.002-0.002,0.004-0.004,0.005L15.814,40.225 c-3.02,3.02-7.86,3.094-10.789,0.167c-2.928-2.929-2.854-7.77,0.167-10.791l0.958-0.958c0.001-0.002,0.004-0.002,0.005-0.004 L26.016,8.78c2.123-2.124,4.951-3.303,7.961-3.317c2.998,0.02,5.814,1.13,7.91,3.226c4.35,4.351,4.309,11.472-0.093,15.873 L25.459,40.895c-0.563,0.562-0.563,1.473,0,2.035c0.281,0.281,0.65,0.422,1.018,0.422c0.369,0,0.737-0.141,1.018-0.422 L43.83,26.596C49.354,21.073,49.395,12.126,43.922,6.653z"}))))}}]),t}(a.PureComponent),y=function(e){return s.a.createElement("a",{className:"sc-message--file",href:e.data.url,download:e.data.fileName},s.a.createElement(A,null),s.a.createElement("p",null,e.data.fileName))},O=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"_renderMessageOfType",value:function(e){switch(e){case"text":return s.a.createElement(C,this.props.message);case"file":return s.a.createElement(y,this.props.message);default:console.error("Attempting to load message with unsupported file type '".concat(e,"'"))}}},{key:"render",value:function(){var e=["sc-message--content","me"===this.props.message.author?"sent":"received"];return s.a.createElement("div",{className:"sc-message"},s.a.createElement("div",{className:e.join(" ")},s.a.createElement("div",{className:"sc-message--avatar"},s.a.createElement("i",{className:"fas fa-user-circle"})),this._renderMessageOfType(this.props.message.type)))}}]),t}(a.Component),E=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).scrollList=void 0,n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.scrollList.scrollTop=this.scrollList.scrollHeight}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"sc-message-list",ref:function(t){return e.scrollList=t}},this.props.messages.map(function(e,t){return s.a.createElement(O,{message:e,key:t})}))}}]),t}(a.Component),k=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("button",{onFocus:this.props.onFocus,onBlur:this.props.onBlur,onClick:function(t){t.preventDefault(),e.props.onClick(t)},className:"sc-user-input--send-icon-wrapper"},s.a.createElement("svg",{version:"1.1",className:"sc-user-input--send-icon",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"37.393px",height:"37.393px",viewBox:"0 0 37.393 37.393",enableBackground:"new 0 0 37.393 37.393"},s.a.createElement("g",{id:"Layer_2"},s.a.createElement("path",{d:"M36.511,17.594L2.371,2.932c-0.374-0.161-0.81-0.079-1.1,0.21C0.982,3.43,0.896,3.865,1.055,4.241l5.613,13.263 L2.082,32.295c-0.115,0.372-0.004,0.777,0.285,1.038c0.188,0.169,0.427,0.258,0.67,0.258c0.132,0,0.266-0.026,0.392-0.08 l33.079-14.078c0.368-0.157,0.607-0.519,0.608-0.919S36.879,17.752,36.511,17.594z M4.632,30.825L8.469,18.45h8.061 c0.552,0,1-0.448,1-1s-0.448-1-1-1H8.395L3.866,5.751l29.706,12.757L4.632,30.825z"}))))}}]),t}(a.PureComponent),j=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e)))._fileUploadButton=void 0,n.userInput=void 0,n.state={inputActive:!1,inputHasText:!1},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"handleKeyDown",value:function(e){if(e&&13===e.keyCode&&!e.shiftKey)return this._submitText(e)}},{key:"handleKeyUp",value:function(e){if(e){var t=0!==e.target.innerHTML.length&&"\n"!==e.target.innerText;this.setState({inputHasText:t})}}},{key:"_showFilePicker",value:function(){this._fileUploadButton.click()}},{key:"_submitText",value:function(e){e.preventDefault();var t=this.userInput.textContent;t&&t.length>0&&(this.props.onSubmit({author:"me",type:"text",data:{text:t}}),this.userInput.innerHTML="")}},{key:"_onFilesSelected",value:function(e){e.target.files&&e.target.files.length>0&&this.props.onFilesSelected(e.target.files)}},{key:"_renderSendOrFileIcon",value:function(){return s.a.createElement("div",{className:"sc-user-input--button"},s.a.createElement(k,{onClick:this._submitText.bind(this)}))}},{key:"render",value:function(){var e=this,t=this.state.inputActive,n=this.props.isChatStarted;return s.a.createElement("form",{className:"sc-user-input ".concat(t?"active":"")},s.a.createElement("div",{role:"button",tabIndex:0,onFocus:function(){e.setState({inputActive:!0})},onBlur:function(){e.setState({inputActive:!1})},ref:function(t){e.userInput=t},onKeyDown:this.handleKeyDown.bind(this),onKeyUp:this.handleKeyUp.bind(this),contentEditable:!0,placeholder:n?"Write a reply...":"Enter your name...",className:"sc-user-input--text"}),s.a.createElement("div",{className:"sc-user-input--buttons"},s.a.createElement("div",{className:"sc-user-input--button"}),s.a.createElement("div",{className:"sc-user-input--button"}),this._renderSendOrFileIcon()))}}]),t}(a.Component),x=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.imageUrl,n=e.onClose,a=e.onMinimize,r=e.onMaximize,c=e.isMaximized;return s.a.createElement("div",{className:"sc-header"},t&&s.a.createElement("img",{className:"sc-header--img",src:t,alt:""}),s.a.createElement("div",{className:"sc-header--team-name"}," Support Chat "),s.a.createElement("div",{className:"sc-header--close-button",onClick:a},s.a.createElement("i",{className:"far fa-window-minimize"})),s.a.createElement("div",{className:"sc-header--close-button",onClick:r},!c&&s.a.createElement("i",{className:"far fa-window-maximize"}),c&&s.a.createElement("i",{className:"far fa-window-restore"})),s.a.createElement("div",{className:"sc-header--close-button",onClick:n},s.a.createElement("i",{className:"fas fa-times"})))}}]),t}(a.PureComponent),S=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleMaximize=function(){n.setState(function(e){return{isMaximized:!e.isMaximized}})},n.state={isMaximized:!1,email:""},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"onUserInputSubmit",value:function(e){this.props.onUserInputSubmit(e)}},{key:"onFilesSelected",value:function(e){this.props.onFilesSelected(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isChatStarted,a=t.agentProfile,r=t.onClose,c=t.onMinimize,i=t.yourname,o=t.isOpen,l=t.showChatByMail,u=t.isFullScreen,p=this.state,h=p.email,m=p.isMaximized,d=this.props.messageList||[],f=["sc-chat-window",o?"opened":"closed",m||u?"maximized":""];return s.a.createElement("div",{className:f.join(" ")},!u&&s.a.createElement(x,{teamName:a.teamName,imageUrl:a.imageUrl,onClose:function(){r(null)},onMaximize:this.handleMaximize,onMinimize:c,isMaximized:m}),!n&&s.a.createElement("div",{className:"sc-chat-Welcome"},"Chat with support"),n&&s.a.createElement("div",{className:"sc-chat-Welcome"},"Welcome ".concat(i,"!")),n&&s.a.createElement(E,{messages:d,imageUrl:a.imageUrl}),l&&s.a.createElement("div",{className:"sc-chat--email"},s.a.createElement("div",{className:"sc-chat-Welcome"},"Company is not availiable right now, do you wish to recive the reply on email instead?"),s.a.createElement("input",{className:"sc-chat--email-input",type:"email",placeholder:"Enter your email address.",value:h,onChange:function(t){return e.setState({email:t.target.value})}}),s.a.createElement("div",{className:"sc-message--email-btn-wrapper"},s.a.createElement("button",{className:"sc-message--email-btn",onClick:function(){r({sendAsEmail:!0,email:h})}},"Yes"),s.a.createElement("button",{className:"sc-message--email-btn",onClick:function(){r({sendAsEmail:!1})}},"No"))),s.a.createElement(j,{onSubmit:this.onUserInputSubmit.bind(this),onFilesSelected:this.onFilesSelected.bind(this),isChatStarted:n}))}}]),t}(a.Component),I=n(8),N=n.n(I),M=n(13),U=n.n(M),W=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={launcherIcon:N.a,isOpen:!1},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(!this.props.mute){var t="them"===(e.messageList[e.messageList.length-1]||{}).author,n=e.messageList.length>this.props.messageList.length;t&&n&&this.playIncomingMessageSound()}}},{key:"playIncomingMessageSound",value:function(){}},{key:"handleClick",value:function(){void 0!==this.props.handleClick?this.props.handleClick():this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this.props,t=e.yourname,n=e.showChatByMail,a=e.isChatStarted,r=e.onEndChat,c=e.agentProfile,i=e.onFilesSelected,o=e.onMessageWasSent,l=e.messageList,u=e.newMessagesCount,p=e.isFullScreen,h=this.props.hasOwnProperty("isOpen")?this.props.isOpen:this.state.isOpen,m=["sc-launcher",h?"opened":""];return s.a.createElement("div",{id:"sc-launcher"},s.a.createElement("div",{className:m.join(" "),onClick:this.handleClick.bind(this)},s.a.createElement(L,{count:u,isOpen:h}),s.a.createElement("img",{className:"sc-open-icon",src:U.a,alt:"open"}),s.a.createElement("img",{className:"sc-closed-icon",src:N.a,alt:"close"})),s.a.createElement(S,{messageList:l,onUserInputSubmit:o,onFilesSelected:i,agentProfile:c,isOpen:h,onClose:r,onMinimize:this.handleClick.bind(this),isChatStarted:a,yourname:t,showChatByMail:n,isFullScreen:p}))}}]),t}(a.Component),L=function(e){return 0===e.count||!0===e.isOpen?null:s.a.createElement("div",{className:"sc-new-messages-count"},e.count)},B=W,F=n(14);n(35);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach(function(t){Object(F.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e,t,n){return X.apply(this,arguments)}function X(){return(X=Object(u.a)(l.a.mark(function e(t,n,a){var s,r,c,i,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(s={Accept:"application/json, application/xml, text/plain, text/html, *.*"})["content-type"]="application/json",(r=localStorage.getItem("user"))&&(c=JSON.parse(r),"Authorization",s.Authorization="Token ".concat(c.authToken)),e.prev=4,e.next=7,fetch(t,{method:"POST",headers:s,body:a?n:JSON.stringify(n)});case 7:return i=e.sent,e.next=10,i.json();case 10:return o=e.sent,console.log(Y({status:i.status},o)),e.abrupt("return",Y({status:i.status},o));case 15:throw e.prev=15,e.t0=e.catch(4),console.log(e.t0),e.t0;case 19:case"end":return e.stop()}},e,null,[[4,15]])}))).apply(this,arguments)}function G(e){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(l.a.mark(function e(t){var n,a,s,r,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n={Accept:"application/json, application/xml, text/plain, text/html, *.*"})["content-type"]="application/json",(a=localStorage.getItem("user"))&&(s=JSON.parse(a),"Authorization",n.Authorization="Token ".concat(s.authToken)),e.prev=4,e.next=7,fetch(t,{method:"GET",headers:n});case 7:return r=e.sent,e.next=10,r.json();case 10:return c=e.sent,console.log(Y({status:r.status},c)),e.abrupt("return",Y({status:r.status},c));case 15:throw e.prev=15,e.t0=e.catch(4),console.log(e.t0),e.t0;case 19:case"end":return e.stop()}},e,null,[[4,15]])}))).apply(this,arguments)}var z="https://torgetapiappstaging.azurewebsites.net/api/webchat",D=function(){var e=Object(u.a)(l.a.mark(function e(t,n,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat(z,"/chats"),{torgetUserId:a,message:n,name:t});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,n,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(l.a.mark(function e(t,n,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat(z,"/messages/").concat(t),{message:a,torgetUserId:n});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,n,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(l.a.mark(function e(t,n,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("".concat(z,"/toemail/").concat(t),{email:a,torgetUserId:n});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,n,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G("".concat(z,"/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(l.a.mark(function e(t,n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G("".concat(z,"/").concat(t,"/").concat(n));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G("".concat(z,"/persons/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),R=(n(37),n(38),n(39),n(40),n(41),n(42),n(43),function(e){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}),Z=function(e){function t(e){var n;Object(p.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).timerId=void 0,n._initiateChat=function(e){n.setState({chatId:e,isFullScreen:!0,isOpen:!0,isChatStarted:!0},Object(u.a)(l.a.mark(function t(){var a,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:if(a=t.sent)for(s in console.log("users -- ",a),a)"status"!==s&&n.setState({userId:a[s].id,yourname:a[s].name},Object(u.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.timerId=setInterval(function(){return n._pullMessages()},5e3);case 1:case"end":return e.stop()}},e)})));case 4:case"end":return t.stop()}},t)})))},n._pullMessages=Object(u.a)(l.a.mark(function e(){var t,a,s,r,c,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state,a=t.lastMessageId,s=t.chatId,a||!s){e.next=8;break}return e.next=4,Q(s);case 4:(r=e.sent)&&r[0].chatMessages.forEach(function(e){n._sendMessage(e)}),e.next=13;break;case 8:if(!a||!s){e.next=13;break}return e.next=11,T(s,a);case 11:if(c=e.sent)for(i in c)"status"!==i&&n._sendMessage(c[i]);case 13:n.setState(function(e){return{waitCounter:e.waitCounter+1}},function(){10===n.state.waitCounter&&(console.log("Show email option"),n.setState({showChatByMail:!0}))});case 14:case"end":return e.stop()}},e)})),n._onMessageWasSent=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,s,r,c,i,o,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state,s=a.isChatStarted,r=a.yourname,c=a.lastMessageId,i=a.chatId,o=a.userId,s){e.next=6;break}console.log("hi",t),n.setState({isChatStarted:!0,yourname:t.data.text||"You"}),e.next=20;break;case 6:if(!t.data.text){e.next=20;break}if(c){e.next=16;break}return e.next=10,D(r,t.data.text,window._chatToUser);case 10:(u=e.sent)&&u.userId&&n.setState({userId:u.userId,chatId:u.chatId}),console.log(" this is  chat ",u),n.timerId=setInterval(function(){return n._pullMessages()},5e3),e.next=19;break;case 16:if(!i||!o){e.next=19;break}return e.next=19,H(i,o,t.data.text);case 19:n._pullMessages();case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n._onEndChat=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,s,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state,s=a.chatId,r=a.userId,!n.timerId){e.next=13;break}if(clearInterval(n.timerId),!s||!r){e.next=10;break}if(!t||!t.sendAsEmail){e.next=8;break}return e.next=7,V(s,r,t.email);case 7:console.log("call api Here for email reply");case 8:return e.next=10,H(s,r,"Visitor did not leave their email, conversation inactive.");case 10:n.setState({waitCounter:0,lastMessageId:void 0,chatId:void 0,userId:void 0,messageList:[],isChatStarted:!1,yourname:"",isOpen:!1,showChatByMail:!1}),e.next=14;break;case 13:n.setState({isOpen:!n.state.isOpen,newMessagesCount:0});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.state={messageList:[],newMessagesCount:0,isOpen:!1,isChatStarted:!1,waitCounter:0,yourname:"",showChatByMail:!1,isFullScreen:!1};var a=R("id");return a&&setTimeout(function(){n._initiateChat(a)},100),n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentWillUnmount",value:function(){this.timerId&&clearInterval(this.timerId)}},{key:"_onFilesSelected",value:function(e){}},{key:"_sendMessage",value:function(e){if(e){var t=this.state.userId,n=this.state.isOpen?this.state.newMessagesCount:this.state.newMessagesCount+1;this.setState({newMessagesCount:n,messageList:[].concat(Object(i.a)(this.state.messageList),[{author:e.authorId===t?"me":"them",type:"text",data:{text:e.message},id:e.id,created:e.created}]),lastMessageId:e.id,waitCounter:0,showChatByMail:!1})}}},{key:"_handleClick",value:function(){this.setState({isOpen:!this.state.isOpen,newMessagesCount:0})}},{key:"render",value:function(){var e=this.state,t=e.yourname,n=e.isChatStarted,a=e.isOpen,r=e.newMessagesCount,c=e.messageList,i=e.showChatByMail,o=e.isFullScreen;return s.a.createElement("div",null,s.a.createElement(B,{agentProfile:{teamName:window._teamName,imageUrl:window._imageUrl},onMessageWasSent:this._onMessageWasSent.bind(this),onFilesSelected:this._onFilesSelected.bind(this),messageList:c,newMessagesCount:r,handleClick:this._handleClick.bind(this),isOpen:a,onEndChat:this._onEndChat,isChatStarted:n,yourname:t,showChatByMail:i,isFullScreen:o}))}}]),t}(a.Component),_=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={hasError:!1},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?s.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.Component),$=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(_,null,s.a.createElement(Z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement($,null),document.getElementById("rootGetAppChatUi")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t){e.exports="data:image/png;base64,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"}},[[16,1,2]]]);
//# sourceMappingURL=main.7033172b.chunk.js.map